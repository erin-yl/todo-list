"use strict";(self.webpackChunktodo_list=self.webpackChunktodo_list||[]).push([[792],{280:function(e,t,o){var n=class{constructor(e,t,o,n){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(this.id="todo-".concat(Date.now(),"-").concat(Math.random().toString(36).slice(2,11)),this.title=e,this.description=t,this.dueDate=null,o instanceof Date&&!isNaN(o.valueOf()))this.dueDate=o;else if("string"==typeof o&&""!==o.trim()){const e=new Date(o.trim());this.dueDate=isNaN(e.valueOf())?null:e}else this.dueDate=null;this.priority=n,this.tags=Array.isArray(s)?s:[],this.completed=i}toggleComplete(){this.completed=!this.completed}updateDetails(e){if(void 0!==e.title&&(this.title=e.title),void 0!==e.description&&(this.description=e.description),void 0!==e.dueDate)if(e.dueDate instanceof Date&&!isNaN(e.dueDate.valueOf()))this.dueDate=e.dueDate;else if("string"==typeof e.dueDate&&""!==e.dueDate.trim()){const t=new Date(e.dueDate.trim());this.dueDate=isNaN(t.valueOf())?null:t}else this.dueDate=null;e.priority&&["low","medium","high"].includes(e.priority)&&(this.priority=e.priority),e.tags&&Array.isArray(e.tags)?this.tags=e.tags.map((e=>e.trim())).filter((e=>e.length>0)):void 0!==e.tagsString&&this.setTagsFromString(e.tagsString)}addTag(e){const t=e.trim();t&&!this.tags.includes(t)&&this.tags.push(t)}removeTag(e){const t=e.trim();this.tags=this.tags.filter((e=>e!==t))}getTagsString(){return this.tags.join(", ")}setTagsFromString(e){"string"==typeof e&&(this.tags=e.split(",").map((e=>e.trim())).filter((e=>e.length>0)))}},s=class{constructor(e){this.id="project-".concat(Date.now(),"-").concat(Math.random().toString(36).slice(2,11)),this.name=e,this.todos=[]}addTodo(e){return e instanceof n&&!this.todos.some((t=>t.id===e.id))&&(this.todos.push(e),!0)}removeTodo(e){this.todos=this.todos.filter((t=>t.id!==e))}getTodoById(e){return this.todos.find((t=>t.id===e))}getAllTodos(){return[...this.todos]}getTodosByPriority(e){return this.todos.filter((t=>t.priority===e))}getTodosByCompletion(e){return this.todos.filter((t=>t.completed===e))}getTodosByTag(e){const t=e.trim().toLowerCase();return t?this.todos.filter((e=>e.tags.some((e=>e.toLowerCase()===t)))):this.getAllTodos()}getUniqueTags(){const e=new Set;return this.todos.forEach((t=>{t.tags.forEach((t=>e.add(t.trim())))})),Array.from(e).sort()}};const i="todoAppProjects";var d=function(e){try{const t=JSON.stringify(e);localStorage.setItem(i,t)}catch(e){console.error("Error saving data to localStorage:",e)}},r=function(){try{const e=localStorage.getItem(i);if(null===e)return;return JSON.parse(e)}catch(e){return void console.error("Error loading data from localStorage:",e)}},a=o(463),l=o(807),c=o(524);const u=["tagsString"];function m(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function p(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?m(Object(o),!0).forEach((function(t){g(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):m(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function g(e,t,o){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const f=(()=>{let e=[],t=null;function o(){d(e)}function i(t){return e.find((e=>e.id===t))}function m(){return e.reduce(((e,t)=>e.concat(t.getAllTodos())),[])}const g={high:1,medium:2,low:3};return function(){const i=r();i&&i.length>0?(e=i.map((e=>{const t=new s(e.name);return t.id=e.id,t.todos=e.todos.map((e=>{const t=new n(e.title,e.description,e.dueDate,e.priority,e.tags||[],e.completed);return t.id=e.id,t})),t})),t=e[0]||null):function(){const i=new s("Work");i.addTodo(new n("Finish Q2 report","Compile required data and finalize the conclusion.",new Date(2025,6,26),"high",["report"],!1)),i.addTodo(new n("Team meeting prep","Prepare agenda and slides for Monday's team meeting.",new Date(2025,7,6),"medium",["meeting"],!1)),i.addTodo(new n("Client follow-up","Call John Doe regarding project Alpha.","","medium",["client"],!0));const d=new s("Personal");d.addTodo(new n("Grocery shopping","Milk, eggs, chicken, fruits.",new Date(2025,6,20),"low",["home","shopping"],!1)),d.addTodo(new n("Book doctor appointment","Annual check-up.",new Date(2025,7,10),"high",["health"],!1));const r=new s("Learning");r.addTodo(new n("Webpack Deep Dive","Understand loaders and plugins.",new Date(2025,6,30),"medium",["dev"],!0)),r.addTodo(new n('Read "The Pragmatic Programmer"',"Chapter 3-5","","low",["reading","dev"],!1)),e=[i,d,r],t=i,o()}()}(),{addProject:function(t){if(t&&!e.find((e=>e.name.toLowerCase()===t.toLowerCase()))){const n=new s(t);return e.push(n),o(),n}return null},updateProject:function(t,n){const s=i(t);return s?e.some((e=>e.id!==t&&e.name.toLowerCase()===n.toLowerCase()))?{error:"duplicate",project:s}:(s.name=n,o(),s):null},removeProject:function(n){const s=e.findIndex((e=>e.id===n));if(s>-1){if(1===e.length)return{error:"last_project"};const i=e.splice(s,1)[0];return t&&t.id===n&&(t=e.length>0?e[0]:null),o(),{success:!0,removedProjectName:i.name,newCurrentProject:t}}return{error:"not_found"}},getProjectById:i,getAllProjects:function(){return[...e]},setCurrentProject:function(e){const o=i(e);return!!o&&(t=o,!0)},getCurrentProject:function(){return t},addTodoToProject:function(e,t){const s=i(e);if(s){const{title:e,description:i,dueDate:d,priority:r,tagsString:a}=t,l=new n(e,i,d,r);return a&&l.setTagsFromString(a),s.addTodo(l),o(),l}return null},removeTodoFromProject:function(e,t){const n=i(e);return!!n&&(n.removeTodo(t),o(),!0)},updateTodoInProject:function(e,t,n){const s=i(e);if(s){const e=s.getTodoById(t);if(e){if(void 0!==n.tagsString){e.setTagsFromString(n.tagsString);const{tagsString:t}=n,o=function(e,t){if(null==e)return{};var o,n,s=function(e,t){if(null==e)return{};var o={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;o[n]=e[n]}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)o=i[n],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(s[o]=e[o])}return s}(n,u);e.updateDetails(o)}else e.updateDetails(n);return o(),e}}return null},toggleTodoComplete:function(e,t){const n=i(e);if(n){const e=n.getTodoById(t);if(e)return e.toggleComplete(),o(),e}return null},getTodosAcrossProjects:m,getTodosWithProjectInfo:function(){const t=[];return e.forEach((e=>{e.getAllTodos().forEach((o=>{t.push(p(p({},o),{},{originalProjectId:e.id,projectName:e.name}))}))})),t},getTodosDueOnDate:function(t){if(!t)return[];const o=(0,a.o)((0,l.qg)(t,"yyyy-MM-dd",new Date));if(isNaN(o.valueOf()))return[];const n=[];return e.forEach((e=>{e.getAllTodos().forEach((t=>{t.dueDate&&(0,c.n)((0,a.o)(t.dueDate),o)&&n.push(p(p({},t),{},{originalProjectId:e.id,projectName:e.name}))}))})),n},searchTodosInList:function(e,t){if(!t||""===t.trim())return e;const o=t.toLowerCase();return e.filter((e=>e.title.toLowerCase().includes(o)||e.description.toLowerCase().includes(o)))},getTagsAcrossProjects:function(){const t=new Set;return e.forEach((e=>{e.getUniqueTags().forEach((e=>t.add(e)))})),Array.from(t).sort()},filterTodosByTagAcrossProjects:function(e){const t=m(),o=e.trim().toLowerCase();return o?t.filter((e=>e.tags.some((e=>e.toLowerCase()===o)))):t},filterTodosByPriorityAcrossProjects:function(e){return m().filter((t=>t.priority===e))},sortTodos:function(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc";const n=[...e];return n.sort(((e,n)=>{let s,i;switch(t){case"dueDate":if(null===e.dueDate&&null===n.dueDate)return 0;if(null===e.dueDate)return 1;if(null===n.dueDate)return-1;s=e.dueDate,i=n.dueDate;break;case"priority":s=g[e.priority],i=g[n.priority];break;default:return 0}let d=0;return s>i?d=1:s<i&&(d=-1),"desc"===o?-1*d:d})),n}}})();var h=f,y=o(790),v=o(85);const j=(()=>{const e=document.getElementById("projects-list"),t=document.getElementById("add-project-btn"),o=document.getElementById("current-project-title"),n=document.getElementById("add-todo-btn"),s=document.getElementById("todos-list"),i=document.getElementById("tag-filter-area"),d=document.getElementById("clear-tag-filter-btn"),r=document.getElementById("notification-area"),a=document.getElementById("project-modal"),l=document.getElementById("project-form"),c=document.getElementById("project-id"),u=document.getElementById("project-name-input"),m=document.getElementById("save-project-btn"),p=document.getElementById("close-project-modal"),g=document.getElementById("todo-modal"),f=document.getElementById("todo-form"),h=document.getElementById("todo-id"),j=document.getElementById("todo-title-input"),P=document.getElementById("todo-description-input"),E=document.getElementById("todo-dueDate-input"),T=document.getElementById("todo-priority-input"),L=document.getElementById("todo-tags-input"),C=document.getElementById("close-todo-modal");function w(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function b(e){o.textContent=e||"No project selected"}function I(e){e.querySelectorAll("div").forEach((e=>{const t=e.querySelector(".form-input"),o=e.querySelector(".help-message"),n=e.querySelector(".error-message");t&&(t.classList.remove("is-invalid"),t.setCustomValidity("")),n&&(n.textContent="",n.style.display="none"),o&&(o.style.display="block")}))}function D(e,t){const o=e.parentElement,n=o.querySelector(".help-message"),s=o.querySelector(".error-message");e.classList.add("is-invalid"),e.setCustomValidity(t),s&&(s.textContent=t,s.style.display="block"),n&&(n.style.display="none")}return{renderProjects:function(t,o){if(w(e),!t||0===t.length){const t=document.createElement("span");return t.textContent="No projects yet.",void e.appendChild(t)}t.forEach((t=>{const n=document.createElement("li");n.dataset.projectId=t.id;const s=document.createElement("span");s.classList.add("project-name"),s.textContent=t.name,n.appendChild(s);const i=document.createElement("div");i.classList.add("project-actions");const d=document.createElement("button");d.classList.add("more-actions-btn"),d.innerHTML='<span class="material-symbols-outlined">more_vert</span>',d.title="More options",i.appendChild(d);const r=document.createElement("ul");r.classList.add("actions-dropdown");const a=document.createElement("li");a.textContent="Edit",a.classList.add("edit-project"),r.appendChild(a);const l=document.createElement("li");l.textContent="Delete",l.classList.add("delete-project"),r.appendChild(l),i.appendChild(r),n.appendChild(i),t.id===o&&n.classList.add("active"),e.appendChild(n)}))},renderTodos:function(e){w(s);const t=e&&!0===e.isGlobalSearch,o=e?e.todos:[];if(b(e?e.name:"Select a Project"),!o||0===o.length){const o=document.createElement("p");return o.textContent=t?"No tasks found matching your search.":e?"No tasks in this project yet.":"Select a project or enter a search term.",void s.appendChild(o)}o.forEach((e=>{const o=document.createElement("li");o.dataset.todoId=e.id,t&&e.originalProjectId&&(o.dataset.originalProjectId=e.originalProjectId),e.completed&&o.classList.add("todo-completed");const n=document.createElement("div");n.classList.add("todo-preview-content");const i=document.createElement("input");i.type="checkbox",i.checked=e.completed,i.classList.add("todo-checkbox"),i.dataset.todoId=e.id;const d=document.createElement("div");d.classList.add("todo-info");const r=document.createElement("span");r.classList.add("todo-title"),r.textContent=e.title;const a=document.createElement("span");var l;a.classList.add("todo-due-date"),a.textContent="Due: ".concat((l=e.dueDate)instanceof Date&&(0,y.f)(l)?(0,v.GP)(l,"MMM dd, yyyy"):"No date set");const c=document.createElement("span");c.classList.add("priority-label","priority-".concat(e.priority));const u=e.priority.charAt(0).toUpperCase()+e.priority.slice(1);if(c.textContent="".concat(u),d.appendChild(i),d.appendChild(r),d.appendChild(a),d.appendChild(c),t&&e.projectName){const t=document.createElement("span");t.classList.add("todo-project-label"),t.textContent="Project: ".concat(e.projectName),d.appendChild(t)}const m=document.createElement("div");m.classList.add("todo-actions");const p=document.createElement("button");p.classList.add("expand-todo-btn"),p.innerHTML='<span class="material-symbols-outlined">expand_circle_down</span>',p.title="Show details",m.appendChild(p);const g=document.createElement("button");g.classList.add("more-actions-btn"),g.innerHTML='<span class="material-symbols-outlined">more_vert</span>',g.title="More options",m.appendChild(g);const f=document.createElement("ul");f.classList.add("actions-dropdown");const h=document.createElement("li");h.textContent="Edit",h.classList.add("edit-todo"),f.appendChild(h);const j=document.createElement("li");j.textContent="Delete",j.classList.add("delete-todo"),f.appendChild(j),m.appendChild(f),n.appendChild(d),n.appendChild(m),o.appendChild(n);const P=document.createElement("div");P.classList.add("todo-full-details","hidden");const E=document.createTextNode(e.description||"No description");if(P.appendChild(E),e.tags&&e.tags.length>0){const t=document.createElement("div");t.classList.add("todo-tags-display"),e.tags.forEach((e=>{const o=document.createElement("span");o.classList.add("tag-label"),o.textContent=e,t.appendChild(o)})),P.appendChild(t)}o.appendChild(P),s.appendChild(o)}))},updateProjectTitle:b,openProjectModal:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;I(l),l.reset(),c.value="",m.textContent="Save",e&&(c.value=e.id,u.value=e.name),a.classList.add("show"),u.focus()},closeProjectModal:function(){a.classList.remove("show")},openTodoModal:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;I(f),f.reset(),h.value="",e&&(h.value=e.id,j.value=e.title,P.value=e.description,E.value=e.dueDate&&(0,y.f)(e.dueDate)?(0,v.GP)(e.dueDate,"yyyy-MM-dd"):"",T.value=e.priority,L.value=e.tags?e.getTagsString():""),f.dataset.currentProjectId=t,g.classList.add("show"),j.focus()},closeTodoModal:function(){g.classList.remove("show")},getProjectFormData:function(){I(l);let e=!0;const t=u.value.trim(),o=c.value;return u.validity.valueMissing&&(D(u,"Project name is required."),e=!1),e?{id:o,name:t}:null},getTodoFormData:function(){I(f);let e=!0;const t=j.value.trim(),o=P.value.trim(),n=E.value,s=T.value,i=L.value.trim(),d=h.value,r=f.dataset.currentProjectId;return j.validity.valueMissing&&(D(j,"Task name is required."),e=!1),e?{id:d,title:t,description:o,dueDate:n,priority:s,tagsString:i,currentProjectId:r}:null},clearElement:w,showNotification:function(e){const t=document.createElement("div");t.classList.add("notification"),t.textContent=e,r.appendChild(t),t.addEventListener("animationend",(e=>{"fadeOutNotification"===e.animationName&&t.remove()}))},renderTagCloud:function(e,t){if(i){if(w(i),e&&e.length>0)e.forEach((e=>{const o=document.createElement("span");o.classList.add("tag-filter-item"),o.textContent=e,o.dataset.tag=e,e===t&&o.classList.add("active"),i.appendChild(o)}));else{const e=document.createElement("span");e.textContent="No tags available for filtering.",e.style.fontSize="0.875rem",i.appendChild(e)}d&&(d.style.display=t?"inline":"none"),d&&!i.contains(d)&&e.length>0&&i.appendChild(d)}},initializeUI:function(){b("Loading projects..."),w(s);const e=document.createElement("li");e.textContent="Select or add a project to see your tasks.",s.appendChild(e),n.style.display="none"},elements:{projectModal:a,todoModal:g,projectsListUL:e,todosListUL:s,addProjectBtn:t,addTodoBtn:n,projectForm:l,todoForm:f,closeProjectModalBtn:p,closeTodoModalBtn:C,clearTagFilterBtn:d}}})();var P=j;document.addEventListener("DOMContentLoaded",(()=>{var e;let t="",o="all",n=null,s={field:"dueDate",direction:"asc"},i=null;const d=document.getElementById("search-todos-input"),r=document.getElementById("priority-filter"),l=document.getElementById("tag-filter-area"),c=document.getElementById("clear-tag-filter-btn"),u=document.getElementById("sort-todos"),m=document.getElementById("due-date-filter-input"),p=document.getElementById("clear-date-filter-btn"),g=document.getElementById("show-today-tasks-btn");function f(){let e=[],r="",a=!1;const l=h.getCurrentProject();if(i)r="Tasks due on ".concat((0,v.GP)(new Date(i+"T00:00:00"),"MMM dd, yyyy")),e=h.getTodosDueOnDate(i),a=!0,p&&(p.style.display="block"),d&&(d.value=""),t="",j(null);else if(t&&""!==t.trim()){r="Search results for '".concat(t,"'");const o=h.getTodosWithProjectInfo();e=h.searchTodosInList(o,t),a=!0,p&&(p.style.display="none"),j(null)}else if(l){const t=h.getProjectById(l.id);e=t?t.getAllTodos():[],r=t?t.name:"Project not found",j(l.id),p&&(p.style.display="none"),j(l.id)}else r="Select a date, project, or search",e=[],a=!1,p&&(p.style.display="none"),j(null);!function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[];const o=h.getCurrentProject();if(e)t=h.getTagsAcrossProjects();else if(o){const e=h.getProjectById(o.id);t=e?e.getUniqueTags():[]}else t=h.getTagsAcrossProjects();P.renderTagCloud(t,n)}(a||!l);let c=[...e];if("all"!==o&&(c=c.filter((e=>e.priority===o))),n){const e=n.toLowerCase();c=c.filter((t=>t.tags.some((t=>t.toLowerCase()===e))))}const u={name:r,todos:h.sortTodos(c,s.field,s.direction),isGlobalSearch:a};P.renderTodos(u),P.updateProjectTitle(r),P.elements.addTodoBtn.style.display=l?"block":"none"}function y(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;document.querySelectorAll(".actions-dropdown.visible").forEach((t=>{t!==e&&t.classList.remove("visible")}))}if(m&&m.addEventListener("change",(e=>{i=e.target.value,t="",d&&(d.value=""),f()})),p&&p.addEventListener("click",(()=>{i=null,m&&(m.value=""),p.style.display="none",f()})),g&&g.addEventListener("click",(()=>{const e=(0,v.GP)((0,a.o)(new Date),"yyyy-MM-dd");i=e,m&&(m.value=e),t="",d&&(d.value=""),f()})),d&&d.addEventListener("input",(e=>{t=e.target.value,""!==t.trim()&&(i=null,m&&(m.value=""),p&&(p.style.display="none")),f()})),r&&r.addEventListener("change",(e=>{o=e.target.value,f()})),l&&l.addEventListener("click",(e=>{if(e.target.classList.contains("tag-filter-item")){const t=e.target.dataset.tag;n=n===t?null:t,f()}})),c&&c.addEventListener("click",(()=>{null!==n&&(n=null,f())})),P.elements.addProjectBtn.addEventListener("click",(()=>{P.openProjectModal()})),P.elements.closeProjectModalBtn.addEventListener("click",(()=>{P.closeProjectModal()})),P.elements.projectForm.addEventListener("submit",(e=>{e.preventDefault();const t=P.getProjectFormData();if(t){let e,o="added";if(t.id){if(e=h.updateProject(t.id,t.name),o="updated",e&&"duplicate"===e.error)return void P.showNotification('Project name "'.concat(t.name,'" already exists'))}else e=h.addProject(t.name);e&&!e.error?("added"===o&&h.setCurrentProject(e.id),j(),f(),P.closeProjectModal(),P.showNotification('Project "'.concat(e.name,'" ').concat(o))):"added"===o&&P.showNotification("Unable to add project")}})),u&&u.addEventListener("change",(e=>{const[t,o]=e.target.value.split("_");s={field:t,direction:o},f()})),document.addEventListener("click",(e=>{e.target.closest(".more-actions-btn")||e.target.closest(".actions-dropdown")||y()})),P.elements.projectsListUL.addEventListener("click",(e=>{const a=e.target.closest("li[data-project-id]");if(!a)return;const l=a.dataset.projectId;if(e.target.closest(".more-actions-btn")){e.stopPropagation();const t=e.target.closest(".more-actions-btn").nextElementSibling;if(t&&t.classList.contains("actions-dropdown")){const e=t.classList.contains("visible");y(t),e?a.style.zIndex="":(t.classList.add("visible"),a.style.zIndex="2")}}else if(e.target.closest(".edit-project")){y();const e=h.getProjectById(l);e&&P.openProjectModal(e)}else if(e.target.closest(".delete-project")){y();const e=h.getProjectById(l);if(e&&confirm('You will permanently delete project "'.concat(e.name,'" and all its tasks.'))){const e=h.removeProject(l);e.success?(P.showNotification('Project "'.concat(e.removedProjectName,'" deleted')),j(),f()):"last_project"===e.error?P.showNotification("Unable to delete the last project"):P.showNotification("Unable to delete project")}}else if((e.target.closest(".project-name")||e.target===a)&&!e.target.closest(".actions-dropdown")&&!e.target.closest(".more-actions-btn")){var c;y(),((null===(c=h.getCurrentProject())||void 0===c?void 0:c.id)!==l||i||t)&&(h.setCurrentProject(l),t="",d&&(d.value=""),o="all",r&&(r.value="all"),n=null,s={field:"dueDate",direction:"asc"},u&&(u.value="dueDate_asc"),i=null,m&&(m.value=""),p&&(p.style.display="none"),f())}})),P.elements.addTodoBtn.addEventListener("click",(()=>{const e=h.getCurrentProject();e?P.openTodoModal(null,e.id):P.showNotification("Please select project to add task")})),P.elements.closeTodoModalBtn.addEventListener("click",(()=>{P.closeTodoModal()})),P.elements.todoForm.addEventListener("submit",(e=>{e.preventDefault();const t=P.getTodoFormData();if(t){let e=!1;t.id?h.updateTodoInProject(t.currentProjectId,t.id,t)&&(e=!0):h.addTodoToProject(t.currentProjectId,t)&&(e=!0),e?(f(),P.closeTodoModal(),P.showNotification(t.id?"Task updated":"Task added")):P.showNotification("Unable to update task")}})),P.elements.todosListUL.addEventListener("click",(e=>{var t;const o=e.target,n=o.closest("li[data-todo-id]");if(!n)return;const s=n.dataset.todoId;let i=n.dataset.originalProjectId||(null===(t=h.getCurrentProject())||void 0===t?void 0:t.id);if(s&&i)if(o.closest(".more-actions-btn")){e.stopPropagation();const t=o.closest(".more-actions-btn").nextElementSibling;if(t&&t.classList.contains("actions-dropdown")){const e=t.classList.contains("visible");y(t),e?n.style.zIndex="":(t.classList.add("visible"),n.style.zIndex="2")}}else if(o.closest(".delete-todo")){y();const e=h.getProjectById(i).getTodoById(s);confirm('You will permanently delete task "'.concat(e.title,'".'))&&(h.removeTodoFromProject(i,s),P.showNotification("Task deleted"),f())}else if(o.closest(".edit-todo")){var d;y();const e=null===(d=h.getProjectById(i))||void 0===d?void 0:d.getTodoById(s);e&&P.openTodoModal(e,i)}else if(o.closest(".todo-checkbox"))y(),h.toggleTodoComplete(i,s),f();else if(o.closest(".expand-todo-btn")){y();const e=o.closest(".expand-todo-btn"),t=n.querySelector(".todo-full-details");t&&(t.classList.contains("hidden")?(t.classList.remove("hidden"),t.classList.add("visible"),e.innerHTML='<span class="material-symbols-outlined">expand_circle_up</span>',e.title="Hide details",n.classList.add("details-expanded")):(t.classList.add("hidden"),t.classList.remove("visible"),e.innerHTML='<span class="material-symbols-outlined">expand_circle_down</span>',e.title="Show details",n.classList.remove("details-expanded")))}})),window.addEventListener("click",(e=>{e.target===P.elements.projectModal&&P.closeProjectModal(),e.target===P.elements.todoModal&&P.closeTodoModal()})),h.getCurrentProject())f();else if(h.getAllProjects().length>0){const e=h.getAllProjects()[0];h.setCurrentProject(e.id),j(),f()}else P.updateProjectTitle("Add a project"),P.renderTodos(null);function j(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=h.getAllProjects();P.renderProjects(t,e)}P.initializeUI(),j(null===(e=h.getCurrentProject())||void 0===e?void 0:e.id);const E=(0,v.GP)((0,a.o)(new Date),"yyyy-MM-dd");i=E,m&&(m.value=E),p&&(p.style.display="block"),f()}))}},function(e){e.O(0,[464],(function(){return e(e.s=280)})),e.O()}]);
//# sourceMappingURL=main.7514fd6a732e21277e9d.js.map