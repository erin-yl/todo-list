"use strict";(self.webpackChunktodo_list=self.webpackChunktodo_list||[]).push([[792],{280:function(e,t,o){var n=class{constructor(e,t,o,n){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],d=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(this.id="todo-".concat(Date.now(),"-").concat(Math.random().toString(36).slice(2,11)),this.title=e,this.description=t,this.dueDate=null,o instanceof Date&&!isNaN(o.valueOf()))this.dueDate=o;else if("string"==typeof o&&""!==o.trim()){const e=new Date(o.trim());this.dueDate=isNaN(e.valueOf())?null:e}else this.dueDate=null;this.priority=n,this.tags=Array.isArray(r)?r:[],this.completed=d}toggleComplete(){this.completed=!this.completed}updateDetails(e){if(void 0!==e.title&&(this.title=e.title),void 0!==e.description&&(this.description=e.description),void 0!==e.dueDate)if(e.dueDate instanceof Date&&!isNaN(e.dueDate.valueOf()))this.dueDate=e.dueDate;else if("string"==typeof e.dueDate&&""!==e.dueDate.trim()){const t=new Date(e.dueDate.trim());this.dueDate=isNaN(t.valueOf())?null:t}else this.dueDate=null;e.priority&&["low","medium","high"].includes(e.priority)&&(this.priority=e.priority),e.tags&&Array.isArray(e.tags)?this.tags=e.tags.map((e=>e.trim())).filter((e=>e.length>0)):void 0!==e.tagsString&&this.setTagsFromString(e.tagsString)}addTag(e){const t=e.trim();t&&!this.tags.includes(t)&&this.tags.push(t)}removeTag(e){const t=e.trim();this.tags=this.tags.filter((e=>e!==t))}getTagsString(){return this.tags.join(", ")}setTagsFromString(e){"string"==typeof e&&(this.tags=e.split(",").map((e=>e.trim())).filter((e=>e.length>0)))}},r=class{constructor(e){this.id="project-".concat(Date.now(),"-").concat(Math.random().toString(36).slice(2,11)),this.name=e,this.todos=[]}addTodo(e){return e instanceof n&&!this.todos.some((t=>t.id===e.id))&&(this.todos.push(e),!0)}removeTodo(e){this.todos=this.todos.filter((t=>t.id!==e))}getTodoById(e){return this.todos.find((t=>t.id===e))}getAllTodos(){return[...this.todos]}getTodosByPriority(e){return this.todos.filter((t=>t.priority===e))}getTodosByCompletion(e){return this.todos.filter((t=>t.completed===e))}getTodosByTag(e){const t=e.trim().toLowerCase();return t?this.todos.filter((e=>e.tags.some((e=>e.toLowerCase()===t)))):this.getAllTodos()}getUniqueTags(){const e=new Set;return this.todos.forEach((t=>{t.tags.forEach((t=>e.add(t.trim())))})),Array.from(e).sort()}};const d="todoAppProjects";var i=function(e){try{const t=JSON.stringify(e);localStorage.setItem(d,t)}catch(e){console.error("Error saving data to localStorage:",e)}},s=function(){try{const e=localStorage.getItem(d);if(null===e)return;return JSON.parse(e)}catch(e){return void console.error("Error loading data from localStorage:",e)}},a=o(463),l=o(807),c=o(524);const u=["tagsString"];function m(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function p(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?m(Object(o),!0).forEach((function(t){g(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):m(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function g(e,t,o){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const f=(()=>{let e=[],t=null;function o(){i(e)}function d(t){return e.find((e=>e.id===t))}function m(){return e.reduce(((e,t)=>e.concat(t.getAllTodos())),[])}const g={high:1,medium:2,low:3};return function(){const d=s();d&&d.length>0?(e=d.map((e=>{const t=new r(e.name);return t.id=e.id,t.todos=e.todos.map((e=>{const t=new n(e.title,e.description,e.dueDate,e.priority,e.tags||[],e.completed);return t.id=e.id,t})),t})),t=e[0]||null):function(){const d=new r("Work");d.addTodo(new n("Finish Q2 report","Compile required data and finalize the conclusion.",new Date(2025,4,26),"high",["report"],!1)),d.addTodo(new n("Team meeting prep","Prepare agenda and slides for Monday's team meeting.",new Date(2025,5,6),"medium",["meeting"],!1)),d.addTodo(new n("Client follow-up","Call John Doe regarding project Alpha.","","medium",["client"],!0));const i=new r("Personal");i.addTodo(new n("Grocery shopping","Milk, eggs, chicken, fruits.",new Date(2025,4,20),"low",["home","shopping"],!1)),i.addTodo(new n("Book doctor appointment","Annual check-up.",new Date(2025,5,10),"high",["health"],!1));const s=new r("Learning");s.addTodo(new n("Webpack Deep Dive","Understand loaders and plugins.",new Date(2025,4,30),"medium",["dev"],!0)),s.addTodo(new n('Read "The Pragmatic Programmer"',"Chapter 3-5","","low",["reading","dev"],!1)),e=[d,i,s],t=d,o()}()}(),{addProject:function(t){if(t&&!e.find((e=>e.name.toLowerCase()===t.toLowerCase()))){const n=new r(t);return e.push(n),o(),n}return null},updateProject:function(t,n){const r=d(t);return r?e.some((e=>e.id!==t&&e.name.toLowerCase()===n.toLowerCase()))?{error:"duplicate",project:r}:(r.name=n,o(),r):null},removeProject:function(n){const r=e.findIndex((e=>e.id===n));if(r>-1){if(1===e.length)return{error:"last_project"};const d=e.splice(r,1)[0];return t&&t.id===n&&(t=e.length>0?e[0]:null),o(),{success:!0,removedProjectName:d.name,newCurrentProject:t}}return{error:"not_found"}},getProjectById:d,getAllProjects:function(){return[...e]},setCurrentProject:function(e){const o=d(e);return!!o&&(t=o,!0)},getCurrentProject:function(){return t},addTodoToProject:function(e,t){const r=d(e);if(r){const{title:e,description:d,dueDate:i,priority:s,tagsString:a}=t,l=new n(e,d,i,s);return a&&l.setTagsFromString(a),r.addTodo(l),o(),l}return null},removeTodoFromProject:function(e,t){const n=d(e);return!!n&&(n.removeTodo(t),o(),!0)},updateTodoInProject:function(e,t,n){const r=d(e);if(r){const e=r.getTodoById(t);if(e){if(void 0!==n.tagsString){e.setTagsFromString(n.tagsString);const{tagsString:t}=n,o=function(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;o[n]=e[n]}return o}(e,t);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(n=0;n<d.length;n++)o=d[n],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}(n,u);e.updateDetails(o)}else e.updateDetails(n);return o(),e}}return null},toggleTodoComplete:function(e,t){const n=d(e);if(n){const e=n.getTodoById(t);if(e)return e.toggleComplete(),o(),e}return null},getTodosAcrossProjects:m,getTodosWithProjectInfo:function(){const t=[];return e.forEach((e=>{e.getAllTodos().forEach((o=>{t.push(p(p({},o),{},{originalProjectId:e.id,projectName:e.name}))}))})),t},getTodosDueOnDate:function(t){if(!t)return[];const o=(0,a.o)((0,l.qg)(t,"yyyy-MM-dd",new Date));if(isNaN(o.valueOf()))return[];const n=[];return e.forEach((e=>{e.getAllTodos().forEach((t=>{t.dueDate&&(0,c.n)((0,a.o)(t.dueDate),o)&&n.push(p(p({},t),{},{originalProjectId:e.id,projectName:e.name}))}))})),n},searchTodosInList:function(e,t){if(!t||""===t.trim())return e;const o=t.toLowerCase();return e.filter((e=>e.title.toLowerCase().includes(o)||e.description.toLowerCase().includes(o)))},getTagsAcrossProjects:function(){const t=new Set;return e.forEach((e=>{e.getUniqueTags().forEach((e=>t.add(e)))})),Array.from(t).sort()},filterTodosByTagAcrossProjects:function(e){const t=m(),o=e.trim().toLowerCase();return o?t.filter((e=>e.tags.some((e=>e.toLowerCase()===o)))):t},filterTodosByPriorityAcrossProjects:function(e){return m().filter((t=>t.priority===e))},sortTodos:function(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc";const n=[...e];return n.sort(((e,n)=>{let r,d;switch(t){case"dueDate":if(null===e.dueDate&&null===n.dueDate)return 0;if(null===e.dueDate)return 1;if(null===n.dueDate)return-1;r=e.dueDate,d=n.dueDate;break;case"priority":r=g[e.priority],d=g[n.priority];break;default:return 0}let i=0;return r>d?i=1:r<d&&(i=-1),"desc"===o?-1*i:i})),n}}})();var y=f,h=o(790),v=o(85);const j=(()=>{const e=document.getElementById("projects-list"),t=document.getElementById("add-project-btn"),o=document.getElementById("current-project-title"),n=document.getElementById("add-todo-btn"),r=document.getElementById("todos-list"),d=document.getElementById("tag-filter-area"),i=document.getElementById("clear-tag-filter-btn"),s=document.getElementById("notification-area"),a=document.getElementById("project-modal"),l=document.getElementById("project-form"),c=document.getElementById("project-id"),u=document.getElementById("project-name-input"),m=document.getElementById("save-project-btn"),p=document.getElementById("close-project-modal"),g=document.getElementById("todo-modal"),f=document.getElementById("todo-form"),y=document.getElementById("todo-id"),j=document.getElementById("todo-title-input"),P=document.getElementById("todo-description-input"),E=document.getElementById("todo-dueDate-input"),T=document.getElementById("todo-priority-input"),C=document.getElementById("todo-tags-input"),L=document.getElementById("close-todo-modal");function w(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function b(e){o.textContent=e||"No project selected"}function D(e){e.querySelectorAll(".form-input, .form-select").forEach((e=>{e.setCustomValidity("")})),e.querySelectorAll(".error-message").forEach((e=>{e.textContent=""}))}function I(e,t){const o=e.parentElement.querySelector(".help-message"),n=e.parentElement.querySelector(".error-message");e.setCustomValidity(t),n.textContent=t,o&&o.remove()}return{renderProjects:function(t,o){if(w(e),!t||0===t.length){const t=document.createElement("span");return t.textContent="No projects yet.",void e.appendChild(t)}t.forEach((t=>{const n=document.createElement("li");n.dataset.projectId=t.id;const r=document.createElement("span");r.classList.add("project-name"),r.textContent=t.name,n.appendChild(r);const d=document.createElement("div");d.classList.add("project-actions");const i=document.createElement("button");i.classList.add("more-actions-btn"),i.innerHTML='<span class="material-symbols-outlined">more_vert</span>',i.title="More options",d.appendChild(i);const s=document.createElement("ul");s.classList.add("actions-dropdown");const a=document.createElement("li");a.textContent="Edit",a.classList.add("edit-project"),s.appendChild(a);const l=document.createElement("li");l.textContent="Delete",l.classList.add("delete-project"),s.appendChild(l),d.appendChild(s),n.appendChild(d),t.id===o&&n.classList.add("active"),e.appendChild(n)}))},renderTodos:function(e){w(r);const t=e&&!0===e.isGlobalSearch,o=e?e.todos:[];if(b(e?e.name:"Select a Project"),!o||0===o.length){const o=document.createElement("span");return o.textContent=t?"No tasks found matching your search.":e?"No tasks in this project yet.":"Select a project or enter a search term.",void r.appendChild(o)}o.forEach((e=>{const o=document.createElement("li");o.dataset.todoId=e.id,t&&e.originalProjectId&&(o.dataset.originalProjectId=e.originalProjectId),e.completed&&o.classList.add("todo-completed");const n=document.createElement("div");n.classList.add("todo-preview-content");const d=document.createElement("input");d.type="checkbox",d.checked=e.completed,d.classList.add("todo-checkbox"),d.dataset.todoId=e.id;const i=document.createElement("div");i.classList.add("todo-info");const s=document.createElement("span");s.classList.add("todo-title"),s.textContent=e.title;const a=document.createElement("span");var l;a.classList.add("todo-due-date"),a.textContent="Due: ".concat((l=e.dueDate)instanceof Date&&(0,h.f)(l)?(0,v.GP)(l,"MMM dd, yyyy"):"No date set");const c=document.createElement("span");c.classList.add("priority-label","priority-".concat(e.priority));const u=e.priority.charAt(0).toUpperCase()+e.priority.slice(1);if(c.textContent="".concat(u),i.appendChild(d),i.appendChild(s),i.appendChild(a),i.appendChild(c),t&&e.projectName){const t=document.createElement("span");t.classList.add("todo-project-label"),t.textContent="Project: ".concat(e.projectName),i.appendChild(t)}const m=document.createElement("div");m.classList.add("todo-actions");const p=document.createElement("button");p.classList.add("expand-todo-btn"),p.innerHTML='<span class="material-symbols-outlined">expand_circle_down</span>',p.title="Show details",m.appendChild(p);const g=document.createElement("button");g.classList.add("more-actions-btn"),g.innerHTML='<span class="material-symbols-outlined">more_vert</span>',g.title="More options",m.appendChild(g);const f=document.createElement("ul");f.classList.add("actions-dropdown");const y=document.createElement("li");y.textContent="Edit",y.classList.add("edit-todo"),f.appendChild(y);const j=document.createElement("li");j.textContent="Delete",j.classList.add("delete-todo"),f.appendChild(j),m.appendChild(f),n.appendChild(i),n.appendChild(m),o.appendChild(n);const P=document.createElement("div");P.classList.add("todo-full-details","hidden");const E=document.createElement("p");E.innerHTML="Description: ";const T=document.createTextNode(e.description||"No description");if(E.appendChild(T),P.appendChild(E),e.tags&&e.tags.length>0){const t=document.createElement("div");t.classList.add("todo-tags-display"),e.tags.forEach((e=>{const o=document.createElement("span");o.classList.add("tag-label"),o.textContent=e,t.appendChild(o)})),P.appendChild(t)}o.appendChild(P),r.appendChild(o)}))},updateProjectTitle:b,openProjectModal:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;D(l),l.reset(),c.value="",m.textContent="Save",e&&(c.value=e.id,u.value=e.name),a.style.display="block",u.focus()},closeProjectModal:function(){a.style.display="none"},openTodoModal:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;D(f),f.reset(),y.value="",e&&(y.value=e.id,j.value=e.title,P.value=e.description,E.value=e.dueDate&&(0,h.f)(e.dueDate)?(0,v.GP)(e.dueDate,"yyyy-MM-dd"):"",T.value=e.priority,C.value=e.tags?e.getTagsString():""),f.dataset.currentProjectId=t,g.style.display="block",j.focus()},closeTodoModal:function(){g.style.display="none"},getProjectFormData:function(){D(l);let e=!0;const t=u.value.trim(),o=c.value;return u.validity.valueMissing&&(I(u,"Project name is required."),e=!1),e?{id:o,name:t}:null},getTodoFormData:function(){D(f);let e=!0;const t=j.value.trim(),o=P.value.trim(),n=E.value,r=T.value,d=C.value.trim(),i=y.value,s=f.dataset.currentProjectId;return j.validity.valueMissing&&(I(j,"Task name is required."),e=!1),e?{id:i,title:t,description:o,dueDate:n,priority:r,tagsString:d,currentProjectId:s}:null},clearElement:w,showNotification:function(e){const t=document.createElement("div");t.classList.add("notification"),t.textContent=e,s.appendChild(t),t.addEventListener("animationend",(e=>{"fadeOutNotification"===e.animationName&&t.remove()}))},renderTagCloud:function(e,t){if(d){if(w(d),e&&e.length>0)e.forEach((e=>{const o=document.createElement("span");o.classList.add("tag-filter-item"),o.textContent=e,o.dataset.tag=e,e===t&&o.classList.add("active"),d.appendChild(o)}));else{const e=document.createElement("span");e.textContent="No tags available for filtering.",e.style.fontSize="0.9em",e.style.color="#666",d.appendChild(e)}i&&(i.style.display=t?"inline":"none"),i&&!d.contains(i)&&e.length>0&&d.appendChild(i)}},initializeUI:function(){b("Loading projects..."),w(r);const e=document.createElement("li");e.textContent="Select or add a project to see your tasks.",r.appendChild(e),n.style.display="none"},elements:{projectModal:a,todoModal:g,projectsListUL:e,todosListUL:r,addProjectBtn:t,addTodoBtn:n,projectForm:l,todoForm:f,closeProjectModalBtn:p,closeTodoModalBtn:L,clearTagFilterBtn:i}}})();var P=j;document.addEventListener("DOMContentLoaded",(()=>{var e;let t="",o="all",n=null,r={field:"dueDate",direction:"asc"},d=null;const i=document.getElementById("search-todos-input"),s=document.getElementById("priority-filter"),l=document.getElementById("tag-filter-area"),c=document.getElementById("clear-tag-filter-btn"),u=document.getElementById("sort-todos"),m=document.getElementById("due-date-filter-input"),p=document.getElementById("clear-date-filter-btn"),g=document.getElementById("show-today-tasks-btn");function f(){let e=[],s="",a=!1;const l=y.getCurrentProject();if(d)s="Tasks due on ".concat((0,v.GP)(new Date(d+"T00:00:00"),"MMM dd, yyyy")),e=y.getTodosDueOnDate(d),a=!0,p&&(p.style.display="block"),i&&(i.value=""),t="",j(null);else if(t&&""!==t.trim()){s="Search results for '".concat(t,"'");const o=y.getTodosWithProjectInfo();e=y.searchTodosInList(o,t),a=!0,p&&(p.style.display="none"),j(null)}else if(l){const t=y.getProjectById(l.id);e=t?t.getAllTodos():[],s=t?t.name:"Project not found",j(l.id),p&&(p.style.display="none"),j(l.id)}else s="Select a date, project, or search",e=[],a=!1,p&&(p.style.display="none"),j(null);!function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[];const o=y.getCurrentProject();if(e)t=y.getTagsAcrossProjects();else if(o){const e=y.getProjectById(o.id);t=e?e.getUniqueTags():[]}else t=y.getTagsAcrossProjects();P.renderTagCloud(t,n)}(a||!l);let c=[...e];if("all"!==o&&(c=c.filter((e=>e.priority===o))),n){const e=n.toLowerCase();c=c.filter((t=>t.tags.some((t=>t.toLowerCase()===e))))}const u={name:s,todos:y.sortTodos(c,r.field,r.direction),isGlobalSearch:a};P.renderTodos(u),P.updateProjectTitle(s),P.elements.addTodoBtn.style.display=l?"block":"none"}function h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;document.querySelectorAll(".actions-dropdown.visible").forEach((t=>{t!==e&&t.classList.remove("visible")}))}if(m&&m.addEventListener("change",(e=>{d=e.target.value,t="",i&&(i.value=""),f()})),p&&p.addEventListener("click",(()=>{d=null,m&&(m.value=""),p.style.display="none",f()})),g&&g.addEventListener("click",(()=>{const e=(0,v.GP)((0,a.o)(new Date),"yyyy-MM-dd");d=e,m&&(m.value=e),t="",i&&(i.value=""),f()})),i&&i.addEventListener("input",(e=>{t=e.target.value,""!==t.trim()&&(d=null,m&&(m.value=""),p&&(p.style.display="none")),f()})),s&&s.addEventListener("change",(e=>{o=e.target.value,f()})),l&&l.addEventListener("click",(e=>{if(e.target.classList.contains("tag-filter-item")){const t=e.target.dataset.tag;n=n===t?null:t,f()}})),c&&c.addEventListener("click",(()=>{null!==n&&(n=null,f())})),P.elements.addProjectBtn.addEventListener("click",(()=>{P.openProjectModal()})),P.elements.closeProjectModalBtn.addEventListener("click",(()=>{P.closeProjectModal()})),P.elements.projectForm.addEventListener("submit",(e=>{e.preventDefault();const t=P.getProjectFormData();if(t){let e,o="added";if(t.id){if(e=y.updateProject(t.id,t.name),o="updated",e&&"duplicate"===e.error)return void P.showNotification('Project name "'.concat(t.name,'" already exists'))}else e=y.addProject(t.name);e&&!e.error?("added"===o&&y.setCurrentProject(e.id),j(),f(),P.closeProjectModal(),P.showNotification('Project "'.concat(e.name,'" ').concat(o))):"added"===o&&P.showNotification("Unable to add project")}})),u&&u.addEventListener("change",(e=>{const[t,o]=e.target.value.split("_");r={field:t,direction:o},f()})),document.addEventListener("click",(e=>{e.target.closest(".more-actions-btn")||e.target.closest(".actions-dropdown")||h()})),P.elements.projectsListUL.addEventListener("click",(e=>{const a=e.target.closest("li[data-project-id]");if(!a)return;const l=a.dataset.projectId;if(e.target.closest(".more-actions-btn")){e.stopPropagation();const t=e.target.closest(".more-actions-btn").nextElementSibling;if(t&&t.classList.contains("actions-dropdown")){const e=t.classList.contains("visible");h(t),e?a.style.zIndex="":(t.classList.add("visible"),a.style.zIndex="2")}}else if(e.target.closest(".edit-project")){h();const e=y.getProjectById(l);e&&P.openProjectModal(e)}else if(e.target.closest(".delete-project")){h();const e=y.getProjectById(l);if(e&&confirm('You will permanently delete project "'.concat(e.name,'" and all its tasks.'))){const e=y.removeProject(l);e.success?(P.showNotification('Project "'.concat(e.removedProjectName,'" deleted')),j(),f()):"last_project"===e.error?P.showNotification("Unable to delete the last project"):P.showNotification("Unable to delete project")}}else if((e.target.closest(".project-name")||e.target===a)&&!e.target.closest(".actions-dropdown")&&!e.target.closest(".more-actions-btn")){var c;h(),((null===(c=y.getCurrentProject())||void 0===c?void 0:c.id)!==l||d||t)&&(y.setCurrentProject(l),t="",i&&(i.value=""),o="all",s&&(s.value="all"),n=null,r={field:"dueDate",direction:"asc"},u&&(u.value="dueDate_asc"),d=null,m&&(m.value=""),p&&(p.style.display="none"),f())}})),P.elements.addTodoBtn.addEventListener("click",(()=>{const e=y.getCurrentProject();e?P.openTodoModal(null,e.id):P.showNotification("Please select project to add task")})),P.elements.closeTodoModalBtn.addEventListener("click",(()=>{P.closeTodoModal()})),P.elements.todoForm.addEventListener("submit",(e=>{e.preventDefault();const t=P.getTodoFormData();if(t){let e=!1;t.id?y.updateTodoInProject(t.currentProjectId,t.id,t)&&(e=!0):y.addTodoToProject(t.currentProjectId,t)&&(e=!0),e?(f(),P.closeTodoModal(),P.showNotification(t.id?"Task updated":"Task added")):P.showNotification("Unable to update task")}})),P.elements.todosListUL.addEventListener("click",(e=>{var t;const o=e.target,n=o.closest("li[data-todo-id]");if(!n)return;const r=n.dataset.todoId;let d=n.dataset.originalProjectId||(null===(t=y.getCurrentProject())||void 0===t?void 0:t.id);if(r&&d)if(o.closest(".more-actions-btn")){e.stopPropagation();const t=o.closest(".more-actions-btn").nextElementSibling;if(t&&t.classList.contains("actions-dropdown")){const e=t.classList.contains("visible");h(t),e?n.style.zIndex="":(t.classList.add("visible"),n.style.zIndex="2")}}else if(o.closest(".delete-todo")){h();const e=y.getProjectById(d).getTodoById(r);confirm('You will permanently delete task "'.concat(e.title,'".'))&&(y.removeTodoFromProject(d,r),P.showNotification("Task deleted"),f())}else if(o.closest(".edit-todo")){var i;h();const e=null===(i=y.getProjectById(d))||void 0===i?void 0:i.getTodoById(r);e&&P.openTodoModal(e,d)}else if(o.closest(".todo-checkbox"))h(),y.toggleTodoComplete(d,r),f();else if(o.closest(".expand-todo-btn")){h();const e=o.closest(".expand-todo-btn"),t=n.querySelector(".todo-full-details");t&&(t.classList.contains("hidden")?(t.classList.remove("hidden"),t.classList.add("visible"),e.innerHTML='<span class="material-symbols-outlined">expand_circle_up</span>',e.title="Hide details",n.classList.add("details-expanded")):(t.classList.add("hidden"),t.classList.remove("visible"),e.innerHTML='<span class="material-symbols-outlined">expand_circle_down</span>',e.title="Show details",n.classList.remove("details-expanded")))}})),window.addEventListener("click",(e=>{e.target===P.elements.projectModal&&P.closeProjectModal(),e.target===P.elements.todoModal&&P.closeTodoModal()})),y.getCurrentProject())f();else if(y.getAllProjects().length>0){const e=y.getAllProjects()[0];y.setCurrentProject(e.id),j(),f()}else P.updateProjectTitle("Add a project"),P.renderTodos(null);function j(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=y.getAllProjects();P.renderProjects(t,e)}P.initializeUI(),j(null===(e=y.getCurrentProject())||void 0===e?void 0:e.id);const E=(0,v.GP)((0,a.o)(new Date),"yyyy-MM-dd");d=E,m&&(m.value=E),p&&(p.style.display="block"),f()}))}},function(e){e.O(0,[464],(function(){return e(e.s=280)})),e.O()}]);
//# sourceMappingURL=main.5cf760b64e1f91ce7a6d.js.map